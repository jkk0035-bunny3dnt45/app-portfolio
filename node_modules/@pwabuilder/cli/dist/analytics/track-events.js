"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const usage_analytics_1 = require("./usage-analytics");
function main() {
    const { name, properties } = parseTrackEventParameters();
    initAnalyticsAndTrack(name, properties);
}
function initAnalyticsAndTrack(name, properties) {
    (0, usage_analytics_1.initAnalytics)();
    if (name === 'error') {
        (0, usage_analytics_1.trackException)(properties.error);
    }
    else {
        (0, usage_analytics_1.trackEvent)(name, properties);
    }
}
function parseTrackEventParameters() {
    console.log(process.argv);
    return {
        name: process.argv[2],
        properties: process.argv[3] ? JSON.parse(process.argv[3]) : {}
    };
}
main();
//# sourceMappingURL=track-events.js.map